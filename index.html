<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>ðŸ¥³</title>
        <link rel="icon" href="https://images.tcdn.com.br/img/img_prod/326825/pao_crocante_para_hamburguer_70g_pct_c_12_unidades_cod_123_641_1_20190510170310.png">
    </head>
    <body onload="bgstart(), Alvo(), temporizador()" onresize="ajuste()" >
	<style>
		html {cursor: crosshair;}
		body {background-color: black;}
	</style>
        <span id="placar" style="background-color: black; color: white; padding: 3px; margin-top: 10px; border-radius: 5px;">Placar: 0</span>
        <span id="timer" style="float: right; margin-right: 10px; background-color: black; color: white; padding: 3px; border-radius: 5px;"></span>
        <div id="divgo" style="width: 40%; margin-left: -1000px; text-align: center;">
            <span id="go" style="color: white; font-size: 600%;">Game Over!</span>
            <br />
            <span id="plac" style="color: white; font-size: 100%;"></span>
            <button id="btnRestart" onclick="btnRestart()" onmouseover="btnRStyle()" style="cursor: pointer; border: 1px solid white; color: white; font-family: Arial, Helvetica, sans-serif; font-size: 25px; height: 45px; display: block; background-color: black; text-align: center; border-radius: 2%; margin: 0 auto;">Reiniciar</button>
        </div>
        <svg width="50" height="50" id="alvo">
            <circle id="alvoc" cx="25" cy="25" r="20" stroke="black" stroke-width="1" fill="white"  onmousedown="nosei()"/>
        </svg>
    </body>
    <script>
        var bginterval;
        var r, g, b;
        function bgstart(){
            bginterval = setInterval(function(){ 
            r = Math.floor(Math.random()*255);
			g = Math.floor(Math.random()*255);
			b = Math.floor(Math.random()*255);
            document.body.style.backgroundColor = "rgb("+r+", "+g+", "+b+")";
            }, 1000);
        }
        var altura = 0;
        var largura = 0;
        var porcentX = 0;
        var porcentY = 0;
        var timing;
        var t = 0;
        var pla = 0;
        function ajuste(){
            altura = window.innerHeight;
            largura = window.innerWidth;
            porcentY = window.innerHeight/4;
            porcentX = window.innerWidth/4;

            console.log(largura, altura);
        }
        ajuste();

        var posX = (largura/4)-25;
        var posY = (altura/4)-25;
        function Alvo(){
            var alvo = document.getElementById("alvo");
            document.body.appendChild(alvo);
            alvo.style.left = porcentX+posX + "px";
            alvo.style.top = porcentY+posY + "px";
            alvo.style.position = "absolute";
        }
        function mudaPos(){
            posX = Math.floor(Math.random()*(largura/2));
            posY = Math.floor(Math.random()*(altura/2))-10;
            posX = posX < 0 ? 0 : posX;
            posY = posY < 0 ? 0 : posY;
            alvo.style.left = porcentX+posX + "px";
            alvo.style.top = porcentY+posY + "px";
            r = Math.floor(Math.random()*255);
			g = Math.floor(Math.random()*255);
			b = Math.floor(Math.random()*255);
            document.getElementById("alvoc").setAttributeNS(null,"fill","rgb("+r+", "+g+", "+b+")");
        }
        function nosei(){
            pla = pla + 10; 
            document.getElementById("placar").innerHTML = "Placar: " + pla; 
            clearInterval(timing); 
            mudaPos(); 
            timing = setInterval(function(){mudaPos();}, 1000);
        }
        function temporizador(){
            if(!(t>60)){
                document.getElementById("timer").innerHTML = "Timer: " + t;
                t++;
                setTimeout(function(){temporizador();},1000)
            }
            else{
                clearInterval(timing);
                clearInterval(bginterval);
                alvo.style.left = -1000+"px";
                document.getElementById("divgo").style.marginLeft = "30%";
                document.getElementById("divgo").style.marginTop = "10%";
                document.getElementById("plac").innerHTML = "VocÃª acertou " + (pla/10) + " alvos!";
                document.body.style.backgroundColor = "black";
            }
        }
        function btnRStyle(){
            r = Math.floor(Math.random()*255);
			g = Math.floor(Math.random()*255);
			b = Math.floor(Math.random()*255);
            document.getElementById("btnRestart").style.color = "rgb("+r+", "+g+", "+b+")";
            document.getElementById("go").style.color = "rgb("+r+", "+g+", "+b+")";
            document.getElementById("plac").style.color = "rgb("+r+", "+g+", "+b+")";
            if (r < 30 && g < 30 && b < 30){
                document.getElementById("btnRestart").style.color = "white";
                document.getElementById("go").style.color = "white";
                document.getElementById("plac").style.color = "white";
            }
        }
        function btnRestart(){
            location.reload();
        }
    </script>
</html>
